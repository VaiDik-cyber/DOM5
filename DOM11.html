<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form action="#" onsubmit="onsubmit(e)">
        <label for="name">Name:</label>
        <input type="text" name="name" id="name">
        <label for="mail">Email:</label>
        <input type="text" name="mail" id="mail">
        <label for="phone">Phone:</label>
        <input type="number" name="phone" id="phone">
        <input type="button" value="submit" id="btn">
    </form>
    <script>
        // let name = document.getElementById('name').value;
        // let mail = document.getElementById('mail').value;
        // let phone = document.getElementById('phone').value;
        // let btn = document.getElementById('btn');
        
        
        // btn.addEventListener('click',function onsubmit(e){
        //     e.preventDefault();
        
        //     let myobj ={
        //         name:document.getElementById('name').value,
        //         mail:document.getElementById('mail').value,
        //         phone:document.getElementById('phone').value,
        //     }
        //     // console.log(myobj);
        //     // console.log(JSON.stringify(myobj));
        //     let list = document.createElement('li');
        //     list.append(deleteBtn);
        //     document.body.append(list);
        //     let deleteBtn = document.createElement('button');
        //     deleteBtn.id='delete';
        //     deleteBtn.textContent = 'Delete';
            
        //     //to store object in localStorage first have to convert into string
        //     localStorage.setItem(JSON.stringify(myobj.mail),JSON.stringify(myobj));

            
        // });
        // let deleteBtn = document.getElementById('delete');
        // deleteBtn.addEventListener('click',function deletelist(event){
        //         event.preventDefault();

        //         localStorage.removeItem(mail);
        //     });
        var button = document.getElementById('button');


button.addEventListener('click' , add);
function add(e){

    e.preventDefault();

    //create adiv here firstly 
    let list = document.createElement('li'); //list created here ..

    //details print 

    //create the text here ...
    var text1 = document.createTextNode("Name: " + document.getElementById('firstname')
    .value + "  "+" LastName:  " + document.getElementById('lastname').value +"   " + "Email: "+
     document.getElementById('email').value + "  " );

     //delete button create here ...
     var deletebtn = document.createElement('button'); //button created here ..
     deletebtn.className="btn btn-danger btn-sm float-right delete";
     deletebtn.textContent='delete';

     //add text and delete button on the screen 
    list.appendChild(text1);
    list.appendChild(deletebtn);

   let main = document.getElementById('main');
   main.appendChild(list);


    //object create here....
    let myobj = {
        firstname : document.getElementById('firstname').value ,
        lastname : document.getElementById('lastname').value,
        email : document.getElementById('email').value
    }

    var serilize = JSON.stringify(myobj);
    console.log(myobj.firstname);
    localStorage.setItem( myobj.email, serilize);
}

//now add delete Functionality in it 
var del = document.getElementById('main');

del.addEventListener('click' , DeleteFun);

 function DeleteFun(e){

    // it will target the calss which contains delete in it 
    if(e.target.classList.contains('delete')){

        //it will target the parent element ...
        var li = e.target.parentElement;
        //remove the child ..
        del.removeChild(li);

        localStorage.removeItem(document.getElementById('email').value);
    }
 }
    </script>
</body>
</html>